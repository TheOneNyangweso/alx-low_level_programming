.PHONY: all

all: school

CC = gcc				# compiler to use
SRC = ${wildcard *.c}	# .c files
OBJ := $(SRC:%.c=%.o)	# .o files
NAME = school			# name of executable
RM = rm 				# The program to delete files

${NAME}: ${OBJ}
	${CC} -lm $^ -o $@

# $@ below matches the target - school in this case 
# $< above/below matches the 1st prerequisite. If the target is derived from an implicit rule, $< corresponds
# to the first prerequisite added by that implicit rule.
# $?: Contains the names of all prerequisites that are newer than the target, separated by 
# spaces. Useful for handling only changed prerequisites.
# $^: Holds the names of all prerequisites (including duplicates), separated by spaces.

%.o: %.c
	@${CC} -c $< -o $@

clean:
	${RM} -rvf *~ *.swp ${NAME}

oclean:
	${RM} -rvf *.o ${OBJ}

fclean: clean oclean

re: oclean all